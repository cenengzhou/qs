<div id="content" class="content">
	<ol class="breadcrumb pull-right">
		<li><a ui-sref="job.dashboard"><i class="fa fa-dashboard"></i>
				Home</a></li>
		<li class="active">Dashboard</li>
	</ol>

	<h1 class="page-header">
		{{jobNo}}<small> {{jobDescription}}</small> - Subcontract {{packageNo}}<small> {{packageDescription}}
	</h1>

	<br>
	<div class="col-lg-6">

		<div class="widget widget-stat text-white bg-lime">
			<div class="widget-stat-btn">
				<a href="javascript:;" data-click="widget-reload"><i
					class="fa fa-repeat"></i></a>
			</div>
			<div class="widget-stat-content">
				<div class="widget-stat-title">
					<h4><i class="fa fa-trophy fa-fw"></i> Total Addendum Amount</h4>
				</div>
				<div class="widget-stat-text m-b-10">V1, V2, V3, L1, L2, D1, D2, CF</div>
				<div class="widget-stat-number m-b-10">1,302,493</div>
				<div class="widget-stat-chart">
					<div id="sparkline-line-chart"></div>
				</div>
			</div>
		</div>

		<div class="fullcalendar vertical-box ">

			<div class="fullcalendar-container vertical-box-column">
				<div id='calendar'></div>
			</div>
		</div>
	</div>


	<div class="col-lg-6">
		<div class="fixed-container">
			<div class="col-lg-12"
				ng-show="latestAddendumStatus=='Approved'">
				<a ui-sref="subcontract.addendumDetails"
					class="btn btn-danger btn-block"> <i
					class="fa fa-plus-circle fa-2x "></i> Create New Addendum
				</a> <br> <br>
			</div>
			<div class="col-lg-12 animated fadeInUp"
				ng-repeat="addendum in addendums | orderBy:'addendumNo':true">

				<div class="panel"	ng-class="{'panel-grey' : addendum.addendumStatus=='Approved', 'panel-lime' : addendum.addendumStatus!='Approved'}">
					<div class="panel-heading">
						<div class="panel-heading-btn">
							<a href="javascript:;"
								class="btn btn-xs btn-icon btn-circle btn-inverse"
								data-click="panel-collapse"> <i class="fa fa-minus"></i>
							</a>
						</div>
						<h3 class="panel-title">Addendum No. {{addendum.addendumNo}}
							- Addendum Amount {{addendum.addendumAmount| currency}}</h3>

					</div>
					<!-- /.box-header -->
					<div class="panel-body"
						ng-style="{display: (addendum.addendumNo != maxPaymentNo ? 'none' : 'block')}">

						<div class="row">
							<div class="col-lg-12">
								<div class="pull-right">
									<a class="btn" ui-sref="subcontract.addendumDetails" 
									ng-class="{'btn-grey' : addendum.addendumStatus=='Approved', 'btn-lime' : addendum.addendumStatus!='Approved'}">
									View details</a>
								</div>
								<dl class="dl-horizontal">
									<dt>Addendum Status:</dt>
									<dd>
										<div ng-class="{'text-danger' : addendum.addendumStatus=='Approved', 'text-green' : addendum.addendumStatus!='Approved'}">
											<b>{{addendum.addendumStatus}}</b>
										</div>
									</dd>
									<dt>Approval Status:</dt>
									<dd>
										<div ng-class="{'text-danger' : addendum.addendumStatus=='Approved', 'text-green' : addendum.addendumStatus!='Approved'}">
											<b>{{addendum.approvalStatus}}</b>
										</div>
									</dd>
								</dl>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-5">
								<dl class="dl-horizontal">

									<!-- <dt>Created by:</dt> <dd>Koey Yeung</dd> -->
									<dt>Addendum Title</dt>
									<dd>{{addendum.maincertNo}}</dd>
									<dt>Submission Date:</dt>
									<dd>{{addendum.submissionDate}}</dd>
									<dt>Approved Date:</dt>
									<dd>{{addendum.approvedDate}}</dd>
								</dl>
							</div>
							<div class="col-lg-7">
								<dl class="dl-horizontal">
									<dt>Prepared by:</dt>
									<dd>{{addendum.preparedBy}}</dd>
									<dt>Subcontractor No.:</dt>
									<dd>{{addendum.invoiceReceivedDate}}</dd>
									<dt>Subcontractor Name.:</dt>
									<dd>{{addendum.requisition}}</dd>
								</dl>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-12">
								<dl class="dl-horizontal">
									<dt>Completed:</dt>
									<dd>
										<div class="progress progress-striped  m-b-sm"
										ng-class="{'active' : addendum.addendumStatus!='Approved'}">
											<div class="progress-bar" 
												ng-style="{width: progress_bar(addendum.addendumStatus)}"
												ng-class="{'progress-bar-grey' : addendum.addendumStatus=='Approved', 'progress-bar-lime' : addendum.addendumStatus!='Approved'}">
											{{progress_bar(addendum.addendumStatus)}}</div>
										</div>
									</dd>
								</dl>
							</div>
						</div>
					</div>


				</div>

			</div>

		</div>
	</div>

</div>

