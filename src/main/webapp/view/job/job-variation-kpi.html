
<div id="content" class="content">


	<div class="m-t-20 m-l-20 m-r-20">

		<div class="row">
			<div class="col-md-12">
				<div class="box box-primary">
					<div class="box-header with-border">
						<h3 class="box-title">Variation KPI</h3>
					</div>

					<div class="box-body">
						<div class="row">
<form name="addForm">
							<div class="form-group">
								<div class="col-md-3"
									ng-repeat="field in fields | orderBy:'order'">
									<div class="form-group">
										<label>{{field.description}}</label>

										<div class="input-group" ng-if="field.type == 'job'">
											<span class="input-group-addon"><i
												class="fa fa-folder-open"></i></span> <input type="text"
												placeholder="" class="form-control " value="{{jobNo}}"
												disabled />
										</div>

										<div class="input-group" ng-if="field.type == 'month'"
											moment-picker="kpi.period" format="YYYY-MM"
											start-view="year" today="true">
											<span class="input-group-addon"><i
												class="fa fa-calendar"></i></span> <input class="form-control"
												required ng-model="kpi.period"
												ng-model-options="{ updateOn: 'blur' }">
										</div>

										<div class="input-group" ng-if="field.type == 'number'">
											<span class="input-group-addon">@</span> <input type="number"
												min="0" step="1" pattern="\d+" placeholder=""
												class="form-control " ng-model="kpi[field.field]" required />
										</div>

										<div class="input-group" ng-if="field.type == 'amount'">
											<span class="input-group-addon">$</span> <input type="number"
												min="0.00" step="0.01" placeholder="" class="form-control "
												ng-model="kpi[field.field]" required />
										</div>

									</div>
								</div>

								<div class="col-md-12">
									<div class="form-group">
										<label>Remarks</label>
										<div style="padding: 0px">
											<div class="col-md-9">
												<textarea class="form-control" ng-model="kpi.remarks" ng-style="{'height':getTextAreaHeight()}"></textarea>
											</div>
											<div class="col-md-3">
												<button type="button"
													class="form-control btn btn-danger btn-block" style="color:white"
													ng-click="onAdd()" 
													ng-disabled="!addForm.$valid">
													<i class="fa fa-plus"></i> Add
												</button>
												<button type="button"
													class="form-control btn btn-success btn-block" style="color:white"
													ng-click="onAdd()" ng-hide="isSelected < 1">
													<i class="fa fa-remove"></i> Delete
												</button>
												<button type="button"
													class="form-control btn btn-primary btn-block" style="color:white"
													ng-click="onAdd()" ng-hide="isDirty < 1">
													<i class="fa fa-save"></i> Update
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
							
							</form>
						</div>
					</div>
					<div class="row">
						<div class="row m-t-10">
							<div class="col-md-12">
								<div id="variationKpiGrid" save-and-restore-grid-state="variationKpi"
									ui-grid-save-state ui-grid="gridOptions" ui-grid-selection ui-grid-pagination
									ui-grid-auto-resize ui-grid-resize-columns ui-grid-row-edit
									ui-grid-cellnav ui-grid-edit ui-grid-exporter class="grid"
									style="height: 250px">
								</div>
							</div>
							<!-- div class="col-md-12">
								<button type="button" class="btn btn-primary btn-block"
									ng-click="update()" ng-hide="disableButtons"
									ng-disabled="disableButtons">
									<i class="fa fa-floppy-o"></i> Update
								</button>
							</div  -->
						</div>
					</div>
				</div>


			</div>
		</div>


	</div>
</div>